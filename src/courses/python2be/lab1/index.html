<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labo 1: GitHub et tests unitaires</title>
    <script src="https://quentin.lurkin.xyz/document.js" defer></script>
    <style>
        .terminal {
            background-color: darkslategray;
            color: white;
            font-family: consolas, monospace;
            white-space: pre;
            padding: 1rem;
            font-size: 0.9em;
            margin-bottom: 1rem;
            margin-top: 1rem;
        }

        .terminal::before {
            content: "Terminal";
            display: block;
            background-color: black;
            text-align: center;
            margin: -1rem;
            padding: 0.5rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <h1>Projets de développement informatique : Labo 1 <small>GitHub et tests unitaires</small></h1>
    <h2>Contexte</h2>
    <p>Le but de ce labo consiste à réaliser un projet simple qu'il faudra héberger sur la plateforme GitHub et ensuite tester à l'aide d'Actions GitHub. Voici l'adresse de Github : <a href="https://github.com/">https://github.com/</a></p>
    <p>L'idée consiste à produire un module qui va proposer plusieurs outils de calculs mathématiques. On va donc devoir commencer par créer le module Python composé de plusieurs fonctions de calcul. On s'assurera que ce module est correct en écrivant des tests unitaires à l'aide de <code>pytest</code>. On les fera ensuite s'exécuter avec des Actions GitHub.</p>

    <h2>Installation de Git et mise en place du dépôt</h2>
    <ol>
        <li>Installer git (<a href="https://git-scm.com/">https://git-scm.com/</a>)</li>
        <li>Configurer git sur sa machine (il ne faut le faire qu'une seule fois). Lancez un terminal (ou GitBash sur Windows) et entrez les commandes suivantes (avec la même adresse e-mail que celle utilisée sur GitHub) :
            <div class="terminal">> git config --global user.name "Quentin Lurkin" 
> git config --global user.email "lur@ecam.be"</div>
        </li>
        <li>Créez un nouveau dépôt sur GitHub (<em>New repository</em>) nommé <code>AdvancedPython2BA-Labo1</code></li>
        <li>Récupérez une copie locale du dépôt sur votre machine en créant un clone, avec la commande
            suivante (en reprenant l'URL de votre dépôt GitHub évidemment) :
            <div class="terminal">> git clone https://github.com/&lt;votreNom&gt;/AdvancedPython2BA-Labo1.git</div>
        </li>
        <li>Une fois cela fait, vous êtes prêts à travailler sur le projet. Vous allez pouvoir créer, modifier, supprimer des fichiers et créer des commits. De temps en temps, n'oubliez pas d'envoyer vos commits sur le dépôt distant, il vous suffit pour cela d'exécuter la commande suivante (qui vous demandera vos identifiants GitHub) :
            <div class="terminal">> git push origin master</div>
        </li>
    </ol>

    <h2>Définition de la librairie <code>utils.py</code></h2>
    <p>Reprenez le fichier <a href="utils.py"><code>utils.py</code></a>. Ajoutez-le dans votre dossier de travail et faites un premier commit avec uniquement ce fichier ajouté, en mettant comme message "Initial Commit". Comme vous l'aurez remarqué, ce fichier ne contient que des fonctions non définies ainsi qu'un code principal qui permet d'exécuter ce fichier.</p>

    <p>Une fois ce premier commit fait, installez <code>pytest</code> si ce n'est pas encore fait.</p>
    <div class="terminal">> pip install pytest</div>

    <p>Créez un fichier de test pour ce module. Repartez pour cela du squelette <a href="test_utils.py"><code>test_utils.py</code></a>, et écrivez un test par fonction. Une fois cela fait, lancez les tests, ils devraient tous échouer. Si cela fonctionne, créez un nouveau commit, en mettant comme message "Add unit test for utils module".</p>

    <p>Configurez l'exécution des tests dans VSCode</p>
    <figure>
        <img src="./configure_test_vscode2.png" >
    </figure>

    <p>On va maintenant configurer l'Action GitHub. Pour cela, il faut ajouter un dossier <code>.github</code> dans votre dépôt. Dans ce nouveau dossier ajoutez un dossier <code>workflows</code>. Et dans ce dernier ajoutez le fichier <a href="test.yml"><code>test.yml</code></a>. Une fois cela fait, créez un nouveau commit avec comme message "Add Action Configuration".</p>

    <p>À ce stade, vous pourriez aussi avoir un dossier <code>__pycache__</code> qui a été créé dans votre dossier. Il ne faut évidemment pas le maintenir dans le dépôt Git. On peut signaler à Git qu'il faut l'ignorer en ajoutant un fichier <a href=".gitignore"><code>.gitignore</code></a> (Attention à ne pas oublier le "."). Ajoutez-le à votre dossier et créez un nouveau commit avec comme message "Add .gitignore file".</p>

    <p>Complétez maintenant toutes les fonctions de <code>utils.py</code> pour faire passer tous les tests.</p>

    <h2>Consignes générales et astuces</h2>
    <ul>
        <li>Préférez faire pleins de petits commits qu'un seul gros de temps en temps. En règle générale, si vous n'êtes pas capable de trouver un court message descriptif du commit, c'est que vous tentez de mettre trop de changements dans le même commit.</li>
        <li>Ce n'est pas utile de push vos commits sur GitHub après chaque commit. Ne le faites que lorsque vous avez besoin que vos commits soient stockés sur le dépôt distant.
        </li>
        <li>Par convention, les messages de commit doivent être en anglais et toujours écrit sous la forme impérative.</li>
        <li>Python propose une fonction prédéfinie eval qui permet d'évaluer une expression Python.</li>
        <li>Le module <a href="https://scipy.github.io/devdocs/index.html"><code>scipy</code></a> contient des fonctions pouvant vous aider pour l'intégrale. N'oubliez pas de mettre votre <a href="requirements.txt"><code>requirements.txt</code></a> à jour.</li>
        <li>Pensez à présenter votre projet dans le <code>README.md</code></li>
    </ul>

    <p style="font-size: 2em; text-align: center; font-weight: bold;">Bon travail !</p>
</body>
</html>
